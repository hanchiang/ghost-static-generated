<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="https://purl.org/dc/elements/1.1/" xmlns:content="https://purl.org/rss/1.0/modules/content/" xmlns:atom="https://www.w3.org/2005/Atom" version="2.0" xmlns:media="https://search.yahoo.com/mrss/"><channel><title><![CDATA[yaphc]]></title><description><![CDATA[The journey of a full stack developer which includes useful tips and tricks for finding your way around the world of technology.]]></description><link>https://yaphc.com/</link><image><url>https://yaphc.com/favicon.png</url><title>yaphc</title><link>https://yaphc.com/</link></image><generator>Ghost 2.6</generator><lastBuildDate>Thu, 06 Dec 2018 07:49:34 GMT</lastBuildDate><atom:link href="https://yaphc.com/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Hosting ghost blog as static website]]></title><description><![CDATA[Ghost offers a great writing experience. All is good except you either have to self-host or pay $36/month. However, it is possible to host it as a static website.]]></description><link>https://yaphc.com/ghost-blog-static-website/</link><guid isPermaLink="false">5c073aa15bbf8b62b1c099c8</guid><category><![CDATA[ghost]]></category><category><![CDATA[static website]]></category><category><![CDATA[netlify]]></category><dc:creator><![CDATA[Yap Han Chiang]]></dc:creator><pubDate>Wed, 05 Dec 2018 13:55:23 GMT</pubDate><media:content url="https://yaphc.com/content/images/2018/12/static-website.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://yaphc.com/content/images/2018/12/static-website.jpg" alt="Hosting ghost blog as static website"><p>Previously: <a href="https://www.yaphc.com/blog-ghost-platform/">Why Blog with ghost platform?</a></p>
<p>I discussed some of the merits and drawbacks of using the ghost platform from my own personal experience. In this post, I will talk about the approach that I use to bring my ghost website from a localhost development environment to a live website hosted on <a href="https://www.netlify.com/" target="_blank">Netlify</a>, a static web host.</p>
<h1 id="whystaticwebsiteandwithghost">Why static website, and with ghost?</h1>
<h2 id="staticwebsite">Static website</h2>
<p>First, a static website is a website that consist of just a bunch of <code>HTML</code> files, together with <code>CSS</code> and <code>JS</code> assets.</p>
<p>Think of the olden days where websites display the same content to every user. Every time a new piece of content needs to be added to the website, they are manually written into the these files.</p>
<p>When a user visits your website, the relevant files are directly served to them without the need for a server to generate them on the fly because there is no database.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/static-vs-dynamic-website.jpg" width="400" alt="Hosting ghost blog as static website">
    <figcaption>Static vs dynamic website</figcaption>
</figure>
<p>For many of us, we are looking for a website builder or system that allows us to create a blog and write posts, and that is a perfect usecase for a static website.</p>
<h2 id="prosandconsofstaticwebsite">Pros and cons of static website</h2>
<h3 id="pros">Pros</h3>
<p><strong>1. Security</strong><br>
A static website is generally safer than a dynamic website as there is no database to be cracked open. However, vulnerabilities do exist if 3rd party javascripts and dynamic features such as forms, payment gateway are used.</p>
<p><strong>2. Speed</strong><br>
Serving a static website is generally faster than a dynamic one, since there is no server to dynamically generate the web page.</p>
<p><strong>3. Cheap</strong><br>
There are numerous affordable options for hosting a static website, such as <a href="https://aws.amazon.com/s3/" target="_blank">AWS S3</a>, <a href="https://pages.github.com/" target="_blank">Github Pages</a>, <a href="https://firebase.google.com/docs/hosting/" target="_blank">Firebase Hosting</a>, <a href="https://cloud.google.com/storage/" target="_blank">Google Cloud Storage</a>, <a href="https://www.netlify.com/" target="_blank">Netlify</a></p>
<p><strong>4. Scalability</strong><br>
No dynamic website can beat any static website in terms of scalability. Once again, there is no database and application server for the case of a static website, all the web host does is to spit out the web page to visitors.</p>
<h3 id="cons">Cons</h3>
<p><strong>1. Unintuitive workflow</strong><br>
Adding content to the website requires you to dive into <code>HTML</code>, <code>CSS</code> and <code>JS</code>, which could be overwhelming for the business executives or anyone who hasn't seen or heard of them before.</p>
<h2 id="whyghost">Why ghost</h2>
<p>For the case of hosting ghost as a static website, it functions more like a <a href="https://www.staticgen.com/about" target="_blank">Static Site Generator(SSG)</a> with a <a href="https://headlesscms.org/about" target="_blank">headless CMS</a>.</p>
<p>Ghost offers a distraction-free writing experience with their simple and elegant admin panel, that is much simpler than wordpress.</p>
<p>The flip side of the coin is that there are fewer features out of the box.</p>
<h2 id="whynetlify">Why netlify</h2>
<p>As mentioned above, there are many options for hosting a static website.</p>
<p>Here are the features Netlify offer:</p>
<ul>
<li>A free web hosting plan</li>
<li>Continuous deployment with git</li>
<li>Automatic HTTPS setup</li>
<li>Add a custom domain with Netlify's DNS hosting</li>
<li>CDN to cache content around the world</li>
<li>DDoS protection</li>
<li>Load balancing</li>
</ul>
<p>Wow, that is a lot of freebies right out of the box, for <strong>free</strong>! Don't you feel excited just by reading these? <span class="ec ec-money-mouth-face"></span></p>
<p>Next, let's run over the process of generating the static website and deploying it to netlify.</p>
<h2 id="therecipe">The recipe</h2>
<ol>
<li>Generate static website
<ol>
<li>Download an offline copy of the entire <em>yaphc.com</em> website</li>
<li>Download <code>sitemap.xml</code> separately</li>
<li>Fix internal links to point to the live domain</li>
<li>Fix <code>css</code> and <code>js</code> assets links</li>
<li>Use the https protocol instead of http</li>
<li>Prettify URL (optional)</li>
</ol>
</li>
<li>Deploy to <a href="https://www.netlify.com/" target="_blank">netlify</a>, an incredible static web host, for free!</li>
</ol>
<p><strong>Note</strong>: I have created a script to do generate a static website <a href="https://github.com/hanchiang/ghost-convert-static-website" target="_blank">here</a>.<br>
The scripts are generously commented. Feel free to check it out and leave some feedback if you have any.</p>
<h2 id="hostingstaticghostwebsiteatnetlify">Hosting static ghost website at netlify</h2>
<p>First, we need to add a custom domain. Under <strong>Settings</strong> navigation menu, look for <strong>Domain management</strong>, and click on <strong>Add custom domain</strong>.<br>
Your domain will be added after a quick verification process.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/netlify-add-custom-domain.jpg" class="kg-image" alt="Hosting ghost blog as static website">
    <figcaption>Add a custom domain</figcaption>
</figure>
<p>Now, enter the DNS panel of the primary domain.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/netlify-go-to-dns-panel.jpg" class="kg-image" alt="Hosting ghost blog as static website">
    <figcaption>Enter DNS panel</figcaption>
</figure>
<p>You will see a few Netlify nameservers. Add them to the custom DNS in your domain registrar.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/netlify-nameservers.jpg" alt="Hosting ghost blog as static website">
    <figcaption>Netlify nameservers</figcaption>
</figure>
<p>For example, I am using namecheap and this is what it should look like.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/namecheap-custom-dns.jpg" alt="Hosting ghost blog as static website">
    <figcaption>Namecheap custom DNS</figcaption>
</figure>
<h2 id="inclosing">In closing</h2>
<p>Ghost comes with an elegant user interface which allows us to write content peacefully. Hosting ghost as a static website is free and comes with other perks such as fast loading speed(SEO), more secure and able to handle huge traffc volumes if a post becomes viral overnight.</p>
]]></content:encoded></item><item><title><![CDATA[Why blog with ghost platform?]]></title><description><![CDATA[With popular website builders  such as wordpress and wix, why is it ever a good idea to blog with ghost platform? Answer: Pleasant writing eperience]]></description><link>https://yaphc.com/blog-ghost-platform/</link><guid isPermaLink="false">5bdd6c5a3785f35fbcc0ec79</guid><category><![CDATA[ghost platform]]></category><category><![CDATA[blog]]></category><dc:creator><![CDATA[Yap Han Chiang]]></dc:creator><pubDate>Sat, 01 Dec 2018 12:15:00 GMT</pubDate><media:content url="https://yaphc.com/content/images/2018/12/person-shadow-holding-door.jpeg" medium="image"/><content:encoded><![CDATA[<img src="https://yaphc.com/content/images/2018/12/person-shadow-holding-door.jpeg" alt="Why blog with ghost platform?"><p>Having tried Static Site Generators(SSGs) such as <a href="https://www.gatsbyjs.org/" target="_blank">Gatsby</a>, <a href="https://react-static.js.org/" target="_blank">React-Static</a>, <a href="https://gohugo.io/" target="_blank">Hugo</a>, I have to say that I am frustrated(<em>read: lazy</em>) at having to either buy into their templating system(Hugo), content retrieval workflow(Gatsby) or just simply starting from the ground up while building my own personal website.</p>
<h2 id="thepositive">The positive</h2>
<h3 id="theeditorandadmininterface">The editor and admin interface</h3>
<p>Ghost 2.0 comes with a elegant and intuitive editor that makes the writing experience really pleasant.<br>
For writing, one should be focussed on the task at hand and not be distracted by the myriad plugins, settings and options.</p>
<p>HTML and markdown editors are also available for users who like to work with them.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/editor.png" class="kg-image" alt="Why blog with ghost platform?" width="600" height="auto">
    <figcaption>Sleek editor</figcaption>
</figure>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/12/cards.png" class="kg-image" alt="Why blog with ghost platform?" width="480" height="auto">
    <figcaption>Useful card blocks</figcaption>
</figure>
<p>The rest of the admin panel is also equally easy to work with.<br>
Adding a logo, site cover image, pages such as contact page and about page can't get any simpler.</p>
<h3 id="welldocumentedtheme">Well-documented theme</h3>
<p><a href="https://github.com/TryGhost/Casper" target="_blank">Casper</a> is the default theme shipped with ghost. It is not only aesthetically pleasing, the documentation of the theme is excellent.</p>
<p>I am particularly impressed when I come across a product that is documented really well, well enough to onboard a new user to get started painlessly. This shows that the maintainers are not only competent, but they also care about creating products that people can actually understand and use alongside the website.</p>
<h3 id="seo">SEO</h3>
<p>Another important aspect of running a personal blog is SEO. Ghost allows us to add custom post SEO meta data for search engines and facebook and twitter.<br>
<img src="https://yaphc.com/content/images/2018/12/meta.jpg" alt="Why blog with ghost platform?"></p>
<h2 id="thedrawbacks">The drawbacks</h2>
<h3 id="handlingimages">Handling images</h3>
<p>As awesome as the writing experience Ghost brings, it isn't without drawbacks.<br>
While the ghost experience from the perspective of a general user is extremely pleasant, certain options such as <strong>adjusting image size</strong> and <strong>serving scaled images</strong> are not quite apparent at first.</p>
<p>For the former, ghost automatically optimise images via lossless compression. If that isn't enough, specifiying <code>width</code> and <code>height</code> attribute in an <code>img</code> tag is a quick way to resize image, though suboptimal.</p>
<p>For the latter, we can work with 3rd party image management providers such as <a href="https://docs.ghost.org/integrations/cloudinary/" target="_blank">Cloudinary</a>, or optionally have a read at <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/automating-image-optimization/" target="_blank">image optimisation</a> for the performance champs.</p>
<p>Due to the lack of a media library, cleaning up images is a manual process.</p>
<p>As a software developer, I am able to navigate and work with the <code>css</code> and <code>js</code> files and modifying the asset bundling process without a lot of difficulty.<br>
It would be great if such common operations such as these are being communicated to users more clearly.</p>
<h2 id="thelowdown">The lowdown</h2>
<p>As a matter of fact, the best blogging platform largely depends on <strong>our needs</strong>. Therefore, we have to understand what kind of blogging experience we require in order to find a suitable platform to meet our needs.</p>
<p>For me, I am looking for a pleasant, distraction-free writing experience on the go without too much of a setup such as setting up page layouts, writing SEO meta data, which are usually shipped with SSGs.</p>
<p>Therefore, the ghost platform fits my requirement nicely, and I am happy with it thus far.</p>
<p>Of course, SSGs produce static website, while a ghost blog isn't a static website.<br>
With a little bit of tinkering and hacking, I managed to convert my dynamic ghost blog with a node.js backend, into a static website and host it on <a href="https://www.netlify.com/" target="_blank">Netlify</a>.</p>
<p>However, this is a subject for another time.</p>
]]></content:encoded></item><item><title><![CDATA[Bunyan: A logging tool for node.js]]></title><description><![CDATA[we are all familiar with using console.log() to debug everywhere. However, as the pplication grows, this gets messy quickly.]]></description><link>https://yaphc.com/bunyan-a-logging-tool-for-node-js/</link><guid isPermaLink="false">5bdc0abfdaab3a15434daa07</guid><category><![CDATA[logging]]></category><category><![CDATA[bunyan]]></category><category><![CDATA[node.js]]></category><category><![CDATA[express.js]]></category><dc:creator><![CDATA[Yap Han Chiang]]></dc:creator><pubDate>Mon, 29 Oct 2018 10:20:00 GMT</pubDate><media:content url="https://yaphc.com/content/images/2018/12/logan-paul-lifting-log.jpg" medium="image"/><content:encoded><![CDATA[<h2 id="motivation">Motivation</h2>
<img src="https://yaphc.com/content/images/2018/12/logan-paul-lifting-log.jpg" alt="Bunyan: A logging tool for node.js"><p>We are all familiar with using <code>console.log()</code> to log out information for debugging purposes. However, as the application grows, console.log gets littered everywhere. Also, there is formatting messaging is done manually.</p>
<h2 id="introducingbunyan">Introducing bunyan</h2>
<p>A nice little logging tool that comes with time stamp, process ID and machine name formatting out of the box.</p>
<p>Take a look out <a href="https://github.com/trentm/node-bunyan">bunyan</a> here.</p>
<h3 id="usingbunyan">Using bunyan</h3>
<p><strong>1. Install bunyan</strong><br>
<code>npm install bunyan</code></p>
<p><strong>2. Create a logger instance</strong></p>
<pre><code class="language-javascript">    const bunyan = require('bunyan');
    const log = bunyan.createLogger({
        name: 'my-logger',
        serializers: bunyan.stdSerializers
    })
    
    module.exports = log;
</code></pre>
<p><strong>3. Logging methods</strong><br>
There are several methods for logging such as <em>info</em>, <em>warn</em>, <em>error</em>, <em>debug</em>.</p>
<p class="nomargin">e.g.</p>
<pre><code class="language-javascript">    const logger = require(path/to/logger');
    const port = process.env.PORT || 3000;
    logger.info(`Express is running on port ${port}`);
</code></pre>
<p><strong>4. View output</strong><br>
<code>[2018-10-29T10:04:08.045Z] INFO: my-logger/20194 on : Express is running on port 3000</code></p>
<h3 id="optionalprettyprint">Optional: Pretty print</h3>
<p>Bunyan has a useful tool for pretty printing the logs into a more human readable format via CLI: <code>node index.js | ./node_modules/.bin/bunyan</code></p>
<h2 id="closing">Closing</h2>
<p>Bunyan is a nice tool that comes with great formatting for logging in production. It is easy to get started with, however customising its behaviour is not easy as the documentation isn't well organised to facilitate this.</p>
<p></p><p></p>]]></content:encoded></item><item><title><![CDATA[Managing connections in MongoDB]]></title><description><![CDATA[Mongoose handles the connection pool automatically for us, but we have to the work ourselves for the node native driver. ]]></description><link>https://yaphc.com/managing-connections-in-mongodb/</link><guid isPermaLink="false">5bde61f830d74c48fa348be1</guid><category><![CDATA[MongoDB]]></category><category><![CDATA[node.js]]></category><category><![CDATA[express.js]]></category><dc:creator><![CDATA[Yap Han Chiang]]></dc:creator><pubDate>Sat, 25 Aug 2018 09:17:00 GMT</pubDate><media:content url="https://yaphc.com/content/images/2018/12/mongodb-logo.jpeg" medium="image"/><content:encoded><![CDATA[<h1 id="introductiontomongodb">Introduction to MongoDB</h1>
<img src="https://yaphc.com/content/images/2018/12/mongodb-logo.jpeg" alt="Managing connections in MongoDB"><p>MongoDB is a NoSQL database that allows us to store data in other formats such as object, document, graph other than tabular relations using relational databases. As it is designed for horizontal scaling, NoSQL is increasingly used in applications that handle a huge volume of data, and real-time analytics.</p>
<p>Personally, I am using MongoDB out of interest, to learn a new technology and apply it to in my own side project. Like others, I followed tutorials and courses which used mongoose, a Object Document Mapper for MongoDB, to abstract nitty-gritty details away to provide a streamlined learning experience to new developers.</p>
<p>However, this time, I am using the <a href="https://mongodb.github.io/node-mongodb-native/" target="_blank">native driver</a>, in an attempt to learn to use the actual MongoDB syntax and commands.<br>
So, the very first roadblock that I faced is to manage the connections, which mongoose already takes good care of.</p>
<h2 id="managingmongodbconnections">Managing MongoDB connections</h2>
<p>A quick research on StackOverflow and other websites suggest the following:</p>
<ol>
<li>Connect to MongoDB when the app starts</li>
<li>Reuse the connection whenever the route handlers need to connect to the database</li>
</ol>
<p>Sounds pretty simple. The next question I had in mind was: What is a good way to do this?</p>
<p>Another quick search showed a few approaches:</p>
<ol>
<li>Connect to and store the MongoDB instance in <strong>req</strong> via an application level middleware before hitting the route handlers</li>
<li>Connect to MongoDB and pass the instance to the route handlers, which does so by exporting a function</li>
<li>Connect to MongoDB and store the instance. Route handlers and controllers that need access to the database will retrieve the instance</li>
</ol>
<h3 id="approach1storingmongodbinstanceinrequest">Approach 1: Storing MongoDB instance in request</h3>
<p>This approach is the easiest to implement.<br>
Set up a middleware that connects to the database, store the database instance in the request object, and use it in the route handlers.</p>
<p><a href="https://github.com/floatdrop/express-mongo-db/blob/master/index.js" target="_blank">express-mongo-db</a> provides an example of how to do this.</p>
<p>However, I found out via StackOverflow that it might not be a good idea to expose library codes in an object.</p>
<h3 id="approach2passittoroutehandlers">Approach 2: Pass it to route handlers</h3>
<p>This approach is detailed by <a href="https://blog.mlab.com/2017/05/mongodb-connection-pooling-for-express-applications/" target="_blank">mLab</a>, one of the most popular MongoDB cloud providers.</p>
<ol>
<li>Setup up the connections in a config file and export the database instances.</li>
</ol>
<pre>
    <code data-language="javascript">
        const MongoClient = require('mongodb').MongoClient
     
        // Note: A production application should not expose database credentials in plain text.
        // For strategies on handling credentials, visit 12factor: https://12factor.net/config.
        const PROD_URI = "mongodb://:@:,:/?replicaSet="
        const MKTG_URI = "mongodb://:@:,:/?replicaSet="

        function connect(url) {
          return MongoClient.connect(url).then(client => client.db())
        }

        module.exports = async function() {
          let databases = await Promise.all([connect(PROD_URI), connect(MKTG_URI)])

          return {
            production: databases[0],
            marketing: databases[1]
          }
        }
    </code>
</pre>
<ol start="2">
<li>Pass app and dbs to route handlers to start working with the database.</li>
</ol>
<pre>
    <code data-language="javascript">
       module.exports = function(app, dbs) {
     
       app.get('/production', (req, res) => {
        dbs.production.collection('test').find({}).toArray((err, docs) => {
          if (err) {
            console.log(err)
            res.error(err)
          } else {
            res.json(docs)
          }
        })
      })
     
      app.get('/marketing', (req, res) => {
        dbs.marketing.collection('test').find({}).toArray((err, docs) => {
          if (err) {
            console.log(err)
            res.error(err)
          } else {
            res.json(docs)
          }
        })
      })
     
      return app
    }
    </code>
</pre>
<ol start="3">
<li>Wire up the database connection, app and route handlers</li>
</ol>
<pre>
    <code data-language="javascript">
        const express = require('express')
        const app = express()

        const initializeDatabases = require('./dbs')
        const routes = require('./routes')

        initializeDatabases().then(dbs => {
          // Initialize the application once database connections are ready.
          routes(app, dbs).listen(3000, () => console.log('Listening on port 3000'))
        }).catch(err => {
          console.error('Failed to make all database connections!')
          console.error(err)
          process.exit(1)
        })
    </code>
</pre>
<p>Even though this approach works, it won't be as clean for my case as my route controllers are defined in its own file, not in the route handler itself. Therefore, one additonal hoop is needed to apss the database instance.</p>
<h3 id="approach3storedbinstanceinafile">Approach 3: Store db instance in a file</h3>
<p>I decided to search around for a bit more and found another <a href="https://stackoverflow.com/questions/10656574/how-do-i-manage-mongodb-connections-in-a-node-js-web-application/42058314#42058314" target="_blank">method</a> which I like best.</p>
<ol>
<li>Set up a connect() and get() function in the database config file</li>
</ol>
<pre>
    <code data-language="javascript">
        const MongoClient = require('mongodb').MongoClient;
        let db;

        exports.connect = () => {
          if (!db) {
            return MongoClient.connect(process.env.DATABASE, { useNewUrlParser: true })
              .then(connection => {
                db = connection.db();
                console.log('Connected to database 👍👍👍');
              })
              .catch(err => {
                db = undefined;
                console.log(`☹☹☹ ${err.message}`);
              });
          }
          return Promise.resolve();
        }

        exports.get = () => db;
    </code>
</pre>
<ol start="2">
<li>Connect to dataase and start express</li>
</ol>
<pre>
    <code data-language="javascript">
        const db = require('./db');
        const app = require('./app');
        const port = process.env.PORT || 7777;

        db.connect()
          .then(() => {
            const server = app.listen(port, () => {
              console.log(`Express running → PORT ${port}`);
            });
        });
    </code>
</pre>
<ol start="3">
<li>Require the database instance in route handlers/controllers</li>
</ol>
<pre>
    <code data-language="javascript">
        const db = require('../db');
    
        exports.getStores = async (req, res) => {
          const stores = await db.get().collection('stores').find({}).toArray();

          res.render('stores', { title: 'Stores', stores });
        }
    </code>
</pre>
<h2 id="closing">Closing</h2>
<p>These approaches achieve a common goal: To create a single connection instance that allows it to be reused.</p>
<p>The third approach does this in the simplest way that follows proper coding practices.</p>
]]></content:encoded></item><item><title><![CDATA[jquery sparklines charts in Angular2]]></title><description><![CDATA[<p>While working on my internship project that uses Angular2, I had to display some data in a nice chart which provides some interactivity. After browsing around for awhile, I settled for the jQuery Sparklines pie chart.</p>
<p>It uses <code>&lt;canvas&gt;</code> to draw charts<a href="https://www.sitepoint.com/canvas-vs-svg-choosing-the-right-tool-for-the-job/" target="_blank">(Should I use canvas or svg?</a></p>]]></description><link>https://yaphc.com/jquery-sparklines-angular2/</link><guid isPermaLink="false">5be15d1903297613ae2cdcdf</guid><category><![CDATA[jquery-sparklines]]></category><category><![CDATA[Angular2]]></category><dc:creator><![CDATA[Yap Han Chiang]]></dc:creator><pubDate>Sat, 11 Feb 2017 08:48:00 GMT</pubDate><media:content url="https://yaphc.com/content/images/2018/11/person-holding-tablet-with-chart.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://yaphc.com/content/images/2018/11/person-holding-tablet-with-chart.jpg" alt="jquery sparklines charts in Angular2"><p>While working on my internship project that uses Angular2, I had to display some data in a nice chart which provides some interactivity. After browsing around for awhile, I settled for the jQuery Sparklines pie chart.</p>
<p>It uses <code>&lt;canvas&gt;</code> to draw charts<a href="https://www.sitepoint.com/canvas-vs-svg-choosing-the-right-tool-for-the-job/" target="_blank">(Should I use canvas or svg?)</a>, is simple and provides useful tooltip information when you hover over it.</p>
<p>For more info, check out the <a href="https://omnipotent.net/jquery.sparkline/#s-docs" target="_blank">Sparklines documentation</a></p>
<h2 id="piechartinaction">Pie chart in action</h2>
<div class="kg-image-card-container">
    <figure class="kg-card kg-image-card">
        <img src="https://yaphc.com/content/images/2018/11/sparklines-example-1.png" class="kg-image" alt="jquery sparklines charts in Angular2">
        <figcaption>Basic pie chart</figcaption>
    </figure>
    <figure class="kg-card kg-image-card">
        <img src="https://yaphc.com/content/images/2018/11/sparklines-example-hover-2.png" class="kg-image" alt="jquery sparklines charts in Angular2">
        <figcaption>On hover</figcaption>
    </figure>
</div>
<p>The Sparklines pie chart looks like this. The segment of the chart is highlighted and a tooltip is displayed when hovered over.</p>
<h2 id="gettingstarted">Getting started</h2>
<ol>
<li>Load <mark>jQuery</mark> library</li>
<li>Load <mark>jquery.sparkline.js</mark>, which can be downloaded from the website</li>
<li>An inline tag in the HTML to display the sparklines chart(e.g. <code>&lt;span&gt;</code>)</li>
<li>Call the <code>sparkline</code> function to display the chart</li>
</ol>
<h3 id="defaultlinechart">Default line chart</h3>
<p>The documentation provides a few ways to display the sparkline chart.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/11/sparklines-jquery-code-example.jpg" class="kg-image" alt="jquery sparklines charts in Angular2">
    <figcaption>Ways to display sparklines</figcaption>
</figure>
<h3 id="piechartexample">Pie chart example</h3>
<div class="kg-image-card-container">
    <figure class="kg-card kg-image-card">
        <img src="https://yaphc.com/content/images/2018/11/my-piechart-hover.png" class="kg-image" alt="jquery sparklines charts in Angular2">
    </figure>
    <figure class="kg-card kg-image-card">
        <img src="https://yaphc.com/content/images/2018/11/my-piechart-hover2-1.png" class="kg-image" alt="jquery sparklines charts in Angular2">
    </figure>
</div>
<p>This is the code for my pie chart. I used the jQuery's selector to select my <code>&lt;span&gt;</code> tag, and call the <code>sparkline</code> function, passing in two arguments, an <strong>array</strong> of values and an <strong>object</strong> of options.</p>
<figure class="kg-card kg-image-card">
    <img src="https://yaphc.com/content/images/2018/11/my-piechart-example-1.jpg" class="kg-image" alt="jquery sparklines charts in Angular2">
    <figcaption>Code in Angular 2</figcaption>
</figure>
<p><strong>1. Values</strong></p>
<p>Put the values to be displayed in an array, which is passed in as the first argument to the <code>sparkline</code> function</p>
<p><strong>2. Labels</strong></p>
<p>Similarly, put the labels for the data in an array, which is to be used later in the tooltip</p>
<p><strong>3. Tooltip</strong></p>
<p>We use the <code>tooltipFormat</code> option to format out tooltip, and <code>tooltipValueLookups</code> option to provide the label to be displayed in the tooltip.</p>
<p>Everything in the span tag is used to display a small circle with the colour of the element, specified in <code>sliceColors</code>.</p>
<p><code>offset</code> is used to display the label name in the tooltip</p>
<p><code>{{value}}</code> displays the value of the element</p>
<p><code>({{percent.1}})</code> displays the percentage with one decimal surrounded by parentheses.</p>
<p>Besides writing simple code, the ease of customisation of the tooltip is an added bonus which provides a good developer experience.</p>
<p></p><p></p><p></p>]]></content:encoded></item></channel></rss>